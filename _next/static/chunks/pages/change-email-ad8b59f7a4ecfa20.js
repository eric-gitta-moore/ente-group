(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1003],{25568:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/change-email",function(){return o(65812)}])},65812:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return eo}});var r=o(52903),n=o(30433),l=o(8033),a=o(13413),i=o(91430),s=o(60108),c=o(22063),d=o(63462),u=o(83446),p=o(43643),Z=o(25683),m=o(31461),h=o(7896),v=o(2784),f=o(40489),x=o(69075),g=o(408),C=o(31572),E=o(34183),A=o(36959),S=o(36082),y=o(67295),R=o(69222),b=o(15672);function w(e){return(0,b.ZP)("MuiAlert",e)}let M=(0,R.Z)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var _=o(53091),I=o(63803),j=o(52322),O=(0,I.Z)((0,j.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),P=(0,I.Z)((0,j.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),L=(0,I.Z)((0,j.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),N=(0,I.Z)((0,j.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),z=(0,I.Z)((0,j.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");let T=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],k=e=>{let{variant:t,color:o,severity:r,classes:n}=e,l={root:["root","color".concat((0,S.Z)(o||r)),"".concat(t).concat((0,S.Z)(o||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,x.Z)(l,w,n)},B=(0,C.ZP)(y.Z,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:o}=e;return[t.root,t[o.variant],t["".concat(o.variant).concat((0,S.Z)(o.color||o.severity))]]}})(e=>{let{theme:t}=e,o="light"===t.palette.mode?g._j:g.$n,r="light"===t.palette.mode?g.$n:g._j;return(0,h.Z)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[n]=e;return{props:{colorSeverity:n,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(n,"Color")]:o(t.palette[n].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(n,"StandardBg")]:r(t.palette[n].light,.9),["& .".concat(M.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(n,"IconColor")]}:{color:t.palette[n].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(r,"Color")]:o(t.palette[r].light,.6),border:"1px solid ".concat((t.vars||t).palette[r].light),["& .".concat(M.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(r,"IconColor")]}:{color:t.palette[r].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.dark}).map(e=>{let[o]=e;return{props:{colorSeverity:o,variant:"filled"},style:(0,h.Z)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(o,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(o,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[o].dark:t.palette[o].main,color:t.palette.getContrastText(t.palette[o].main)})}})]})}),D=(0,C.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),W=(0,C.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),H=(0,C.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),F={success:(0,j.jsx)(O,{fontSize:"inherit"}),warning:(0,j.jsx)(P,{fontSize:"inherit"}),error:(0,j.jsx)(L,{fontSize:"inherit"}),info:(0,j.jsx)(N,{fontSize:"inherit"})},X=v.forwardRef(function(e,t){let o=(0,E.i)({props:e,name:"MuiAlert"}),{action:r,children:n,className:l,closeText:a="Close",color:i,components:s={},componentsProps:c={},icon:d,iconMapping:u=F,onClose:p,role:Z="alert",severity:v="success",slotProps:x={},slots:g={},variant:C="standard"}=o,S=(0,m.Z)(o,T),y=(0,h.Z)({},o,{color:i,severity:v,variant:C,colorSeverity:i||v}),R=k(y),b={slots:(0,h.Z)({closeButton:s.CloseButton,closeIcon:s.CloseIcon},g),slotProps:(0,h.Z)({},c,x)},[w,M]=(0,A.Z)("closeButton",{elementType:_.Z,externalForwardedProps:b,ownerState:y}),[I,O]=(0,A.Z)("closeIcon",{elementType:z,externalForwardedProps:b,ownerState:y});return(0,j.jsxs)(B,(0,h.Z)({role:Z,elevation:0,ownerState:y,className:(0,f.Z)(R.root,l),ref:t},S,{children:[!1!==d?(0,j.jsx)(D,{ownerState:y,className:R.icon,children:d||u[v]||F[v]}):null,(0,j.jsx)(W,{ownerState:y,className:R.message,children:n}),null!=r?(0,j.jsx)(H,{ownerState:y,className:R.action,children:r}):null,null==r&&p?(0,j.jsx)(H,{ownerState:y,className:R.action,children:(0,j.jsx)(w,(0,h.Z)({size:"small","aria-label":a,title:a,color:"inherit",onClick:p},M,{children:(0,j.jsx)(I,(0,h.Z)({fontSize:"small"},O))}))}):null]}))});var U=o(58488),V=o(53793),Y=o(31708),q=o(24991),G=o(5632),Q=o(98614),K=o(48601),$=o(12595),J=()=>{let e=(0,G.useRouter)();return(0,v.useEffect)(()=>{let t=(0,Z.Yu)(Z.Pd.USER);(null==t?void 0:t.token)||e.push("/")},[]),(0,r.tZ)(i.wx,{children:(0,r.BX)(s.Z,{children:[(0,r.tZ)(d.Z,{children:(0,q.t)("CHANGE_EMAIL")}),(0,r.tZ)(ee,{})]})})};let ee=()=>{let[e,t]=(0,v.useState)(!1),[o,s]=(0,v.useState)(!1),[d,m]=(0,v.useState)(null),[h,f]=(0,v.useState)(!1),[x,g]=(0,v.useState)(!1),C=(0,G.useRouter)(),E=async(e,o)=>{let{email:r}=e,{setFieldError:l}=o;try{t(!0),await (0,n.Fn)(r),m(r),s(!0),f(!0)}catch(e){l("email",(0,q.t)("EMAIl_ALREADY_OWNED"))}t(!1)},A=async(e,o)=>{let{email:r,ott:i}=e,{setFieldError:s}=o;try{t(!0),await (0,n.Uk)(r,(0,l.zx)(i)),await (0,Z.CA)({...(0,Z.Yu)(Z.Pd.USER),email:r}),t(!1),g(!0),await (0,a.Dc)(1e3),S()}catch(e){t(!1),s("ott",(0,q.t)("INCORRECT_CODE"))}},S=()=>C.push($.Pm);return(0,r.tZ)(Y.J9,{initialValues:{email:""},validationSchema:o?K.Ry().shape({email:K.Z_().email((0,q.t)("EMAIL_ERROR")).required((0,q.t)("REQUIRED")),ott:K.Z_().required((0,q.t)("REQUIRED"))}):K.Ry().shape({email:K.Z_().email((0,q.t)("EMAIL_ERROR")).required((0,q.t)("REQUIRED"))}),validateOnChange:!1,validateOnBlur:!1,onSubmit:o?A:E,children:t=>{let{values:n,errors:l,handleChange:a,handleSubmit:Z}=t;return(0,r.BX)(r.HY,{children:[h&&(0,r.tZ)(X,{color:"success",onClose:()=>f(!1),children:(0,r.tZ)(Q.cC,{i18nKey:"EMAIL_SENT",components:{a:(0,r.tZ)(U.Z,{color:"text.muted",component:"span"})},values:{email:d}})}),(0,r.tZ)("form",{noValidate:!0,onSubmit:Z,children:(0,r.BX)(i.wx,{children:[(0,r.tZ)(V.Z,{fullWidth:!0,InputProps:{readOnly:o},type:"email",label:(0,q.t)("ENTER_EMAIL"),value:n.email,onChange:a("email"),error:!!l.email,helperText:l.email,autoFocus:!0,disabled:e}),o&&(0,r.tZ)(V.Z,{fullWidth:!0,type:"text",label:(0,q.t)("ENTER_OTT"),value:n.ott,onChange:a("ott"),error:!!l.ott,helperText:l.ott,disabled:e}),(0,r.tZ)(p.Z,{success:x,sx:{mt:2},loading:e,buttonText:o?(0,q.t)("VERIFY"):(0,q.t)("SEND_OTT")})]})}),(0,r.BX)(c.Z,{style:{justifyContent:o?"space-between":"normal"},children:[o&&(0,r.BX)(u.Z,{onClick:()=>s(!1),children:[(0,q.t)("CHANGE_EMAIL"),"?"]}),(0,r.tZ)(u.Z,{onClick:S,children:(0,q.t)("GO_BACK")})]})]})}})};var et=o(55005),eo=()=>(0,r.tZ)(J,{appContext:(0,et.useAppContext)()})},36959:function(e,t,o){"use strict";o.d(t,{Z:function(){return p}});var r=o(7896),n=o(31461),l=o(53640),a=o(85506),i=o(87935),s=o(23563);let c=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],d=["component","slots","slotProps"],u=["component"];function p(e,t){let{className:o,elementType:p,ownerState:Z,externalForwardedProps:m,getSlotOwnerState:h,internalForwardedProps:v}=t,f=(0,n.Z)(t,c),{component:x,slots:g={[e]:void 0},slotProps:C={[e]:void 0}}=m,E=(0,n.Z)(m,d),A=g[e]||p,S=(0,i.Z)(C[e],Z),y=(0,s.Z)((0,r.Z)({className:o},f,{externalForwardedProps:"root"===e?E:void 0,externalSlotProps:S})),{props:{component:R},internalRef:b}=y,w=(0,n.Z)(y.props,u),M=(0,l.Z)(b,null==S?void 0:S.ref,t.ref),_=h?h(w):{},I=(0,r.Z)({},Z,_),j="root"===e?R||x:R,O=(0,a.Z)(A,(0,r.Z)({},"root"===e&&!x&&!g[e]&&v,"root"!==e&&!g[e]&&v,w,j&&{as:j},{ref:M}),I);return Object.keys(_).forEach(e=>{delete O[e]}),[A,O]}},22063:function(e,t,o){"use strict";var r=o(52903),n=o(91430),l=o(37862);o(2784),t.Z=e=>{let{sx:t,style:o,...a}=e;return(0,r.BX)(r.HY,{children:[(0,r.tZ)(l.Z,{}),(0,r.tZ)(n.wx,{style:{flexDirection:"row",...o},sx:{mt:3,...t},...a,children:a.children})]})}},63462:function(e,t,o){"use strict";var r=o(52903),n=o(42541);o(2784),t.Z=e=>{let{sx:t,...o}=e;return(0,r.tZ)(n.Z,{variant:"h2",sx:{mb:8,...t},...o,children:o.children})}},60108:function(e,t,o){"use strict";var r=o(31572),n=o(67295);let l=(0,r.ZP)(n.Z)(e=>{let{theme:t}=e;return{padding:t.spacing(4,2),maxWidth:"360px",width:"100%",textAlign:"left"}});t.Z=l},83446:function(e,t,o){"use strict";var r=o(52903),n=o(72595);o(2784),t.Z=e=>{let{children:t,sx:o,color:l,...a}=e;return(0,r.tZ)(n.Z,{component:"button",sx:{color:"text.base",textDecoration:"underline rgba(255, 255, 255, 0.4)",paddingBottom:.5,"&:hover":{color:"".concat(l,".main"),textDecoration:"underline ",textDecorationColor:"".concat(l,".main")},...o},...a,children:t})}},43643:function(e,t,o){"use strict";var r=o(52903),n=o(53819),l=o(10222),a=o(7706);o(2784),t.Z=e=>{let{loading:t,buttonText:o,disabled:i,success:s,sx:c,...d}=e;return(0,r.tZ)(l.Z,{size:"large",variant:"contained",color:"accent",type:"submit",disabled:i||t||s,sx:{my:4,...t?{"&.Mui-disabled":{backgroundColor:e=>e.colors.accent.A500,color:e=>e.colors.text.base}}:{},...c},...d,children:t?(0,r.tZ)(a.Z,{size:20}):s?(0,r.tZ)(n.Z,{sx:{fontSize:20}}):o})}}},function(e){e.O(0,[1708,4373,2888,9774,179],function(){return e(e.s=25568)}),_N_E=e.O()}]);