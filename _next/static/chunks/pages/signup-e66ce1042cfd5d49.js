(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7616],{90492:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return n(4943)}])},4943:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(52903),a=n(34360),i=n(68351),l=n(25683),o=n(91430),s=n(98996),d=n(60108),c=n(5632),u=n(2784),p=n(1885),h=e=>{let{appContext:t}=e,{showNavBar:n}=t,[h,Z]=(0,u.useState)(!0),[m,f]=(0,u.useState)(),E=(0,c.useRouter)();return(0,u.useEffect)(()=>{(0,i.yv)().then(f);let e=(0,l.Yu)(l.Pd.USER);(null==e?void 0:e.email)&&E.push(a.q.VERIFY),Z(!1),n(!0)},[]),(0,r.tZ)(o.wx,{children:h?(0,r.tZ)(s.Z,{}):(0,r.tZ)(d.Z,{children:(0,r.tZ)(p.M,{login:()=>{E.push(a.q.LOGIN)},router:E,host:m})})})},Z=n(55005),m=()=>(0,r.tZ)(h,{appContext:(0,Z.useAppContext)()})},73216:function(e,t,n){"use strict";var r=n(71600);t.Z=void 0;var a=r(n(84198)),i=n(52322);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},16331:function(e,t,n){"use strict";var r=n(71600);t.Z=void 0;var a=r(n(84198)),i=n(52322);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff")},36673:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r,a=n(31461),i=n(7896),l=n(2784),o=n(40489),s=n(69075),d=n(36082),c=n(42541),u=n(19256),p=n(86685),h=n(31572),Z=n(69222),m=n(15672);function f(e){return(0,m.ZP)("MuiInputAdornment",e)}let E=(0,Z.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var v=n(34183),R=n(52322);let _=["children","className","component","disablePointerEvents","disableTypography","position","variant"],w=e=>{let{classes:t,disablePointerEvents:n,hiddenLabel:r,position:a,size:i,variant:l}=e,o={root:["root",n&&"disablePointerEvents",a&&"position".concat((0,d.Z)(a)),l,r&&"hiddenLabel",i&&"size".concat((0,d.Z)(i))]};return(0,s.Z)(o,f,t)},b=(0,h.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t["position".concat((0,d.Z)(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&{["&.".concat(E.positionStart,"&:not(.").concat(E.hiddenLabel,")")]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})});var S=l.forwardRef(function(e,t){let n=(0,v.i)({props:e,name:"MuiInputAdornment"}),{children:s,className:d,component:h="div",disablePointerEvents:Z=!1,disableTypography:m=!1,position:f,variant:E}=n,S=(0,a.Z)(n,_),x=(0,p.Z)()||{},A=E;E&&x.variant,x&&!A&&(A=x.variant);let g=(0,i.Z)({},n,{hiddenLabel:x.hiddenLabel,size:x.size,disablePointerEvents:Z,position:f,variant:A}),P=w(g);return(0,R.jsx)(u.Z.Provider,{value:null,children:(0,R.jsx)(b,(0,i.Z)({as:h,ownerState:g,className:(0,o.Z)(P.root,d),ref:t},S,{children:"string"!=typeof s||m?(0,R.jsxs)(l.Fragment,{children:["start"===f?r||(r=(0,R.jsx)("span",{className:"notranslate",children:"â€‹"})):null,s]}):(0,R.jsx)(c.Z,{color:"text.secondary",children:s})}))})})},1885:function(e,t,n){"use strict";n.d(t,{M:function(){return k}});var r=n(52903),a=n(30433),i=n(49354),l=n(34360),o=n(39596),s=n(46170),d=n(10934),c=n(25683),u=n(91430),p=n(22063),h=n(63462),Z=n(39382),m=n(83446),f=n(43643),E=n(38045),v=n(29650),R=n(50267),_=n(97490),w=n(53793),b=n(58488),S=n(42541),x=n(36673),A=n(35999),g=n(53091),P=n(70341),I=n(71523),C=n(56840),N=n(72595),T=n(96566),O=n(31708),y=n(24991),M=n(2784),L=n(98614),D=n(48601);let k=e=>{let{router:t,login:n,host:k}=e,[B,U]=(0,M.useState)(!1),[X,j]=(0,M.useState)(!1),[F,H]=(0,M.useState)(!1),Y=()=>{H(!F)},z=e=>{e.preventDefault()},W=async(e,n)=>{let{email:r,passphrase:i,confirm:o,referral:u}=e,{setFieldError:p}=n;try{if(i!==o){p("confirm",(0,y.t)("PASSPHRASE_MATCH_ERROR"));return}j(!0);try{await (0,c.CA)({email:r}),(0,v.je)(u),await (0,a.Tb)(r)}catch(t){let e=t instanceof Error?t.message:"";throw p("confirm","".concat((0,y.t)("UNKNOWN_ERROR")," ").concat(e)),t}try{let{keyAttributes:e,masterKey:n,srpSetupAttributes:r}=await (0,s.j)(i);(0,c.a_)(c.Pd.ORIGINAL_KEY_ATTRIBUTES,e),(0,c.a_)(c.Pd.SRP_SETUP_ATTRIBUTES,r),await (0,E.iv)(i,e,n),await (0,E.CP)(R.Qm.ENCRYPTION_KEY,n),(0,v.n_)(!0),t.push(l.q.VERIFY)}catch(e){throw p("confirm",(0,y.t)("PASSWORD_GENERATION_FAILED")),e}}catch(e){d.ZP.error("signup failed",e)}j(!1)};return(0,r.BX)(r.HY,{children:[(0,r.BX)(h.Z,{children:[" ",(0,y.t)("sign_up")]}),(0,r.tZ)(O.J9,{initialValues:{email:"",passphrase:"",confirm:"",referral:""},validationSchema:D.Ry().shape({email:D.Z_().email((0,y.t)("EMAIL_ERROR")).required((0,y.t)("REQUIRED")),passphrase:D.Z_().required((0,y.t)("REQUIRED")),confirm:D.Z_().required((0,y.t)("REQUIRED"))}),validateOnChange:!1,validateOnBlur:!1,onSubmit:W,children:e=>{let{values:t,errors:n,handleChange:a,handleSubmit:l}=e;return(0,r.BX)("form",{noValidate:!0,onSubmit:l,children:[(0,r.BX)(u.wx,{sx:{mb:1},children:[(0,r.tZ)(w.Z,{fullWidth:!0,id:"email",name:"email",autoComplete:"username",type:"email",label:(0,y.t)("ENTER_EMAIL"),value:t.email,onChange:a("email"),error:!!n.email,helperText:n.email,autoFocus:!0,disabled:X}),(0,r.tZ)(w.Z,{fullWidth:!0,id:"password",name:"password",autoComplete:"new-password",type:F?"text":"password",label:(0,y.t)("PASSPHRASE_HINT"),value:t.passphrase,onChange:a("passphrase"),error:!!n.passphrase,helperText:n.passphrase,disabled:X,InputProps:{endAdornment:(0,r.tZ)(Z.Z,{showPassword:F,handleClickShowPassword:Y,handleMouseDownPassword:z})}}),(0,r.tZ)(w.Z,{fullWidth:!0,id:"confirm-password",name:"confirm-password",autoComplete:"new-password",type:"password",label:(0,y.t)("CONFIRM_PASSPHRASE"),value:t.confirm,onChange:a("confirm"),error:!!n.confirm,helperText:n.confirm,disabled:X}),(0,r.tZ)(i.L,{password:t.passphrase}),(0,r.BX)(b.Z,{sx:{width:"100%"},children:[(0,r.tZ)(S.Z,{textAlign:"left",color:"text.secondary",mt:"24px",children:(0,y.t)("REFERRAL_CODE_HINT")}),(0,r.tZ)(w.Z,{hiddenLabel:!0,InputProps:{endAdornment:(0,r.tZ)(x.Z,{position:"end",children:(0,r.tZ)(A.Z,{title:(0,y.t)("REFERRAL_INFO"),children:(0,r.tZ)(g.Z,{tabIndex:-1,color:"secondary",edge:"end",children:(0,r.tZ)(_.Z,{})})})})},fullWidth:!0,name:"referral",type:"text",value:t.referral,onChange:a("referral"),error:!!n.referral,disabled:X})]}),(0,r.tZ)(P.Z,{sx:{width:"100%"},children:(0,r.tZ)(I.Z,{sx:{color:"text.muted",ml:0,mt:2,mb:0},control:(0,r.tZ)(C.Z,{size:"small",disabled:X,checked:B,onChange:e=>U(e.target.checked),color:"accent"}),label:(0,r.tZ)(S.Z,{variant:"small",children:(0,r.tZ)(L.cC,{i18nKey:"TERMS_AND_CONDITIONS",components:{a:(0,r.tZ)(N.Z,{href:"https://ente.io/terms",target:"_blank"}),b:(0,r.tZ)(N.Z,{href:"https://ente.io/privacy",target:"_blank"})}})})})})]}),(0,r.BX)(b.Z,{mb:4,children:[(0,r.tZ)(f.Z,{sx:{my:0},buttonText:(0,y.t)("CREATE_ACCOUNT"),loading:X,disabled:!B||(0,o.DZ)(t.passphrase)}),X&&(0,r.tZ)(S.Z,{mt:1,textAlign:"center",color:"text.muted",variant:"small",children:(0,y.t)("KEY_GENERATION_IN_PROGRESS_MESSAGE")})]})]})}}),(0,r.tZ)(p.Z,{children:(0,r.BX)(T.Z,{gap:4,children:[(0,r.tZ)(m.Z,{onClick:n,children:(0,y.t)("ACCOUNT_EXISTS")}),(0,r.tZ)(S.Z,{variant:"mini",color:"text.faint",minHeight:"32px",children:null!=k?k:""})]})})]})}},60108:function(e,t,n){"use strict";var r=n(31572),a=n(67295);let i=(0,r.ZP)(a.Z)(e=>{let{theme:t}=e;return{padding:t.spacing(4,2),maxWidth:"360px",width:"100%",textAlign:"left"}});t.Z=i}},function(e){e.O(0,[1981,1708,4373,5999,3432,3692,805,9049,2888,9774,179],function(){return e(e.s=90492)}),_N_E=e.O()}]);