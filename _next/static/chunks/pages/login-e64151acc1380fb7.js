(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{97946:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(4438)}])},4438:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var r=n(52903),a=n(68351),i=n(91430),o=n(98996),l=n(60108),s=n(25683),c=n(5632),u=n(2784),d=n(18944),p=n(34360),h=t=>{let{appContext:e}=t,{showNavBar:n}=e,[h,Z]=(0,u.useState)(!0),[f,v]=(0,u.useState)(),m=(0,c.useRouter)();return(0,u.useEffect)(()=>{(0,a.yv)().then(v);let t=(0,s.Yu)(s.Pd.USER);(null==t?void 0:t.email)&&m.push(p.q.VERIFY),Z(!1),n(!0)},[]),h?(0,r.tZ)(i.wx,{children:(0,r.tZ)(o.Z,{})}):(0,r.tZ)(i.wx,{children:(0,r.tZ)(l.Z,{children:(0,r.tZ)(d.m,{signUp:()=>{m.push(p.q.SIGNUP)},host:f})})})},Z=n(55005),f=()=>(0,r.tZ)(h,{appContext:(0,Z.useAppContext)()})},73216:function(t,e,n){"use strict";var r=n(71600);e.Z=void 0;var a=r(n(84198)),i=n(52322);e.Z=(0,a.default)((0,i.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},16331:function(t,e,n){"use strict";var r=n(71600);e.Z=void 0;var a=r(n(84198)),i=n(52322);e.Z=(0,a.default)((0,i.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff")},36673:function(t,e,n){"use strict";n.d(e,{Z:function(){return x}});var r,a=n(31461),i=n(7896),o=n(2784),l=n(40489),s=n(69075),c=n(36082),u=n(42541),d=n(19256),p=n(86685),h=n(31572),Z=n(69222),f=n(15672);function v(t){return(0,f.ZP)("MuiInputAdornment",t)}let m=(0,Z.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var b=n(34183),w=n(52322);let E=["children","className","component","disablePointerEvents","disableTypography","position","variant"],y=t=>{let{classes:e,disablePointerEvents:n,hiddenLabel:r,position:a,size:i,variant:o}=t,l={root:["root",n&&"disablePointerEvents",a&&"position".concat((0,c.Z)(a)),o,r&&"hiddenLabel",i&&"size".concat((0,c.Z)(i))]};return(0,s.Z)(l,v,e)},R=(0,h.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,e["position".concat((0,c.Z)(n.position))],!0===n.disablePointerEvents&&e.disablePointerEvents,e[n.variant]]}})(t=>{let{theme:e,ownerState:n}=t;return(0,i.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===n.variant&&{["&.".concat(m.positionStart,"&:not(.").concat(m.hiddenLabel,")")]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})});var x=o.forwardRef(function(t,e){let n=(0,b.i)({props:t,name:"MuiInputAdornment"}),{children:s,className:c,component:h="div",disablePointerEvents:Z=!1,disableTypography:f=!1,position:v,variant:m}=n,x=(0,a.Z)(n,E),g=(0,p.Z)()||{},P=m;m&&g.variant,g&&!P&&(P=g.variant);let S=(0,i.Z)({},n,{hiddenLabel:g.hiddenLabel,size:g.size,disablePointerEvents:Z,position:v,variant:P}),A=y(S);return(0,w.jsx)(d.Z.Provider,{value:null,children:(0,w.jsx)(R,(0,i.Z)({as:h,ownerState:S,className:(0,l.Z)(A.root,c),ref:e},x,{children:"string"!=typeof s||f?(0,w.jsxs)(o.Fragment,{children:["start"===v?r||(r=(0,w.jsx)("span",{className:"notranslate",children:"â€‹"})):null,s]}):(0,w.jsx)(u.Z,{color:"text.secondary",children:s})}))})})},50193:function(t,e,n){"use strict";n.d(e,{$Q:function(){return h},IG:function(){return d},O3:function(){return s},XD:function(){return u},gd:function(){return p},zx:function(){return c}});var r=n(10934),a=n(68351),i=n(27949),o=n(56810),l=n(80613);let s=async t=>{try{return(await o.Z.get(await (0,a.QH)("/users/srp/attributes"),{email:t})).data.attributes}catch(t){return r.ZP.error("failed to get SRP attributes",t),null}},c=async(t,e)=>{try{return(await o.Z.post(await (0,a.QH)("/users/srp/setup"),e,void 0,{"X-Auth-Token":t})).data}catch(t){throw r.ZP.error("failed to post SRP attributes",t),t}},u=async(t,e)=>{try{return(await o.Z.post(await (0,a.QH)("/users/srp/complete"),e,void 0,{"X-Auth-Token":t})).data}catch(t){throw r.ZP.error("failed to complete SRP setup",t),t}},d=async(t,e)=>{try{return(await o.Z.post(await (0,a.QH)("/users/srp/create-session"),{srpUserID:t,srpA:e})).data}catch(t){throw r.ZP.error("createSRPSession failed",t),t}},p=async(t,e,n)=>{try{return(await o.Z.post(await (0,a.QH)("/users/srp/verify-session"),{sessionID:t,srpUserID:e,srpM1:n},void 0)).data}catch(t){if(r.ZP.error("verifySRPSession failed",t),t instanceof i.MS&&t.httpStatusCode===l.WE.Unauthorized)throw Error(i.sH.INCORRECT_PASSWORD);throw t}},h=async(t,e)=>{try{return(await o.Z.post(await (0,a.QH)("/users/srp/update"),e,void 0,{"X-Auth-Token":t})).data}catch(t){throw r.ZP.error("updateSRPAndKeys failed",t),t}}},18944:function(t,e,n){"use strict";n.d(e,{m:function(){return b}});var r=n(52903),a=n(10934),i=n(22063),o=n(63462),l=n(83446),s=n(50006),c=n(25683),u=n(84381),d=n(96566),p=n(42541),h=n(24991),Z=n(5632),f=n(50193),v=n(30433),m=n(34360);let b=t=>{let{signUp:e,host:n}=t,b=(0,Z.useRouter)(),w=async(t,e)=>{try{await (0,c.CA)({email:t});let e=await (0,f.O3)(t);a.ZP.debug(()=>["srpAttributes",JSON.stringify(e)]),!e||e.isEmailMFAEnabled?(await (0,v.Tb)(t),b.push(m.q.VERIFY)):((0,c.a_)(c.Pd.SRP_ATTRIBUTES,e),b.push(m.q.CREDENTIALS))}catch(t){e(t instanceof Error?"".concat((0,h.t)("UNKNOWN_ERROR")," (reason:").concat(t.message,")"):"".concat((0,h.t)("UNKNOWN_ERROR")," (reason:").concat(JSON.stringify(t),")"))}};return(0,r.BX)(r.HY,{children:[(0,r.tZ)(o.Z,{children:(0,h.t)("login")}),(0,r.tZ)(s.Z,{callback:w,fieldType:"email",placeholder:(0,h.t)("ENTER_EMAIL"),buttonText:(0,h.t)("login"),autoComplete:"username",hiddenPostInput:(0,r.tZ)(u.Z,{sx:{display:"none"},type:"password",value:""})}),(0,r.tZ)(i.Z,{children:(0,r.BX)(d.Z,{gap:4,children:[(0,r.tZ)(l.Z,{onClick:e,children:(0,h.t)("NO_ACCOUNT")}),(0,r.tZ)(p.Z,{variant:"mini",color:"text.faint",minHeight:"32px",children:null!=n?n:""})]})})]})}},34360:function(t,e,n){"use strict";var r,a;n.d(e,{q:function(){return r}}),(a=r||(r={})).ROOT="/",a.CHANGE_EMAIL="/change-email",a.CHANGE_PASSWORD="/change-password",a.CREDENTIALS="/credentials",a.GENERATE="/generate",a.LOGIN="/login",a.RECOVER="/recover",a.SIGNUP="/signup",a.TWO_FACTOR_SETUP="/two-factor/setup",a.TWO_FACTOR_VERIFY="/two-factor/verify",a.TWO_FACTOR_RECOVER="/two-factor/recover",a.VERIFY="/verify",a.SHARED_ALBUMS="/shared-albums"},22063:function(t,e,n){"use strict";var r=n(52903),a=n(91430),i=n(37862);n(2784),e.Z=t=>{let{sx:e,style:n,...o}=t;return(0,r.BX)(r.HY,{children:[(0,r.tZ)(i.Z,{}),(0,r.tZ)(a.wx,{style:{flexDirection:"row",...n},sx:{mt:3,...e},...o,children:o.children})]})}},63462:function(t,e,n){"use strict";var r=n(52903),a=n(42541);n(2784),e.Z=t=>{let{sx:e,...n}=t;return(0,r.tZ)(a.Z,{variant:"h2",sx:{mb:8,...e},...n,children:n.children})}},60108:function(t,e,n){"use strict";var r=n(31572),a=n(67295);let i=(0,r.ZP)(a.Z)(t=>{let{theme:e}=t;return{padding:e.spacing(4,2),maxWidth:"360px",width:"100%",textAlign:"left"}});e.Z=i},39382:function(t,e,n){"use strict";var r=n(52903),a=n(73216),i=n(16331),o=n(36673),l=n(53091);n(2784),e.Z=t=>{let{showPassword:e,handleClickShowPassword:n,handleMouseDownPassword:s}=t;return(0,r.tZ)(o.Z,{position:"end",children:(0,r.tZ)(l.Z,{tabIndex:-1,color:"secondary","aria-label":"toggle password visibility",onClick:n,onMouseDown:s,edge:"end",children:e?(0,r.tZ)(i.Z,{}):(0,r.tZ)(a.Z,{})})})}},83446:function(t,e,n){"use strict";var r=n(52903),a=n(72595);n(2784),e.Z=t=>{let{children:e,sx:n,color:i,...o}=t;return(0,r.tZ)(a.Z,{component:"button",sx:{color:"text.base",textDecoration:"underline rgba(255, 255, 255, 0.4)",paddingBottom:.5,"&:hover":{color:"".concat(i,".main"),textDecoration:"underline ",textDecorationColor:"".concat(i,".main")},...n},...o,children:e})}},50006:function(t,e,n){"use strict";n.d(e,{Z:function(){return Z}});var r=n(52903),a=n(91430),i=n(39382),o=n(94848),l=n(10222),s=n(53793),c=n(31708),u=n(24991),d=n(2784),p=n(48601),h=n(43643);function Z(t){var e;let{submitButtonProps:n}=t,{sx:Z,...f}=null!=n?n:{},[v,m]=(0,d.useState)(!1),[b,w]=(0,d.useState)(!1),E=async(e,n)=>{let{setFieldError:r,resetForm:a}=n;m(!0),await t.callback(e.inputValue,t=>r("inputValue",t),a),m(!1)},y=()=>{w(!b)},R=t=>{t.preventDefault()},x=(0,d.useMemo)(()=>{switch(t.fieldType){case"text":case"password":return p.Ry().shape({inputValue:p.Z_().required((0,u.t)("REQUIRED"))});case"email":return p.Ry().shape({inputValue:p.Z_().email((0,u.t)("EMAIL_ERROR")).required((0,u.t)("REQUIRED"))})}},[t.fieldType]);return(0,r.tZ)(c.J9,{initialValues:{inputValue:null!==(e=t.initialValue)&&void 0!==e?e:""},onSubmit:E,validationSchema:x,validateOnChange:!1,validateOnBlur:!1,children:e=>{let{values:n,errors:c,handleChange:d,handleSubmit:p}=e;return(0,r.BX)("form",{noValidate:!0,onSubmit:p,children:[t.hiddenPreInput,(0,r.tZ)(s.Z,{hiddenLabel:t.hiddenLabel,variant:"filled",fullWidth:!0,type:b?"text":t.fieldType,id:t.fieldType,name:t.fieldType,...t.hiddenLabel?{placeholder:t.placeholder}:t.realPlaceholder?{placeholder:t.realPlaceholder,label:t.realLabel}:{label:t.placeholder},value:n.inputValue,onChange:d("inputValue"),error:!!c.inputValue,helperText:c.inputValue,disabled:v,autoFocus:!t.disableAutoFocus,autoComplete:t.autoComplete,InputProps:{autoComplete:t.disableAutoComplete||"password"===t.fieldType?"off":"on",endAdornment:"password"===t.fieldType&&(0,r.tZ)(i.Z,{showPassword:b,handleClickShowPassword:y,handleMouseDownPassword:R})}}),(0,r.tZ)(o.Z,{sx:{position:"relative",top:c.inputValue?"-22px":"0",float:"right",padding:"0 8px"},children:t.caption}),t.hiddenPostInput,(0,r.BX)(a.A0,{justifyContent:"flex-end",flexWrap:t.blockButton?"wrap-reverse":"nowrap",children:[t.secondaryButtonAction&&(0,r.tZ)(l.Z,{onClick:t.secondaryButtonAction,size:"large",color:"secondary",sx:{"&&&":{mt:t.blockButton?.5:2,mb:t.blockButton?0:4,mr:t.blockButton?0:1,...Z}},...f,children:(0,u.t)("cancel")}),(0,r.tZ)(h.Z,{sx:{"&&&":{mt:2,...Z}},buttonText:t.buttonText,loading:v,...f})]})]})}})}},43643:function(t,e,n){"use strict";var r=n(52903),a=n(53819),i=n(10222),o=n(7706);n(2784),e.Z=t=>{let{loading:e,buttonText:n,disabled:l,success:s,sx:c,...u}=t;return(0,r.tZ)(i.Z,{size:"large",variant:"contained",color:"accent",type:"submit",disabled:l||e||s,sx:{my:4,...e?{"&.Mui-disabled":{backgroundColor:t=>t.colors.accent.A500,color:t=>t.colors.text.base}}:{},...c},...u,children:e?(0,r.tZ)(o.Z,{size:20}):s?(0,r.tZ)(a.Z,{sx:{fontSize:20}}):n})}}},function(t){t.O(0,[1708,4373,2888,9774,179],function(){return t(t.s=97946)}),_N_E=t.O()}]);